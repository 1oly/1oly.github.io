<!DOCTYPE html>
<html>
<head>
<title>Skyggekort</title>
<style>
body {
  padding: 0;
  margin: 0;
}

html, body, #map {
    position: absolute;
    height: 100%;
    width: 100vw;
}

</style>

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
  crossorigin=""/>
<link rel="stylesheet" href="dist/Control.Geocoder.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
    integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
    crossorigin="">
</script>
<script src="dist/Control.Geocoder.js"></script>
<script src="dist/Control.Geocoder.Dawa.js"></script>
<script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.js" charset="utf-8"></script>
<script type="text/javascript" src="dist/leaflet-control-credits.js"></script>
<link rel="stylesheet" href="dist/leaflet-control-credits.css" />
<script src="dist/leaflet-geoip.js"></script>

</head>

<body>
<div id="map"></div>

<script>

var lyr09 = L.tileLayer('https://s3.eu-central-1.amazonaws.com/sunshade/MONTH/11/09/{z}/{x}/{y}.png', {tms: true, opacity: 0.6, attribution: 'Data afledt af DHM &copy; <a href="https://sdfe.dk">SDFE</a>'});
var lyr10 = L.tileLayer('https://s3.eu-central-1.amazonaws.com/sunshade/MONTH/11/10/{z}/{x}/{y}.png', {tms: true, opacity: 0.6, attribution: 'Data afledt af DHM &copy; <a href="https://sdfe.dk">SDFE</a>'});
var lyr11 = L.tileLayer('https://s3.eu-central-1.amazonaws.com/sunshade/MONTH/11/11/{z}/{x}/{y}.png', {tms: true, opacity: 0.6, attribution: 'Data afledt af DHM &copy; <a href="https://sdfe.dk">SDFE</a>'});
var lyr12 = L.tileLayer('https://s3.eu-central-1.amazonaws.com/sunshade/MONTH/11/12/{z}/{x}/{y}.png', {tms: true, opacity: 0.6, attribution: 'Data afledt af DHM &copy; <a href="https://sdfe.dk">SDFE</a>'});
var lyr13 = L.tileLayer('https://s3.eu-central-1.amazonaws.com/sunshade/MONTH/11/13/{z}/{x}/{y}.png', {tms: true, opacity: 0.6, attribution: 'Data afledt af DHM &copy; <a href="https://sdfe.dk">SDFE</a>'});
var lyr14 = L.tileLayer('https://s3.eu-central-1.amazonaws.com/sunshade/MONTH/11/14/{z}/{x}/{y}.png', {tms: true, opacity: 0.6, attribution: 'Data afledt af DHM &copy; <a href="https://sdfe.dk">SDFE</a>'});
var lyr15 = L.tileLayer('https://s3.eu-central-1.amazonaws.com/sunshade/MONTH/11/15/{z}/{x}/{y}.png', {tms: true, opacity: 0.6, attribution: 'Data afledt af DHM &copy; <a href="https://sdfe.dk">SDFE</a>'});

var overlayMaps = {"09:00": lyr09,
                   "10:00": lyr10,
                   "11:00": lyr11,
                   "12:00": lyr12,
                   "13:00": lyr13,
                   "14:00": lyr14,
                   "15:00": lyr15}

var map = new L.Map('map').setView([55.702355, 10.634766], 8);

geocoder = L.Control.Geocoder.dawa({
    geocodingQueryParams: {},
    wildcard: true}),
    control = L.Control.geocoder({
    geocoder: geocoder
  }).addTo(map);

//L.GeoIP.centerMapOnPosition(map,10);

new L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);;

L.control.layers(overlayMaps,null,{collapsed:false}).addTo(map);
L.control.locate().addTo(map);

var credctrl = L.controlCredits({
  image: "./icon.png",
  link: "https://shady.dk/about",
  text: "info",
  width: "30",
  height: "30"
}).addTo(map);


var cities = []

var CPH = {
    "type": "Feature",
    "geometry": { "type": "Polygon", "coordinates": [ [ [ 12.502596533201901, 55.715722643196159 ], [ 12.494584296105623, 55.626035933670401 ], [ 12.65307499692617, 55.621413088058532 ], [ 12.661448679631931, 55.711084326180028 ] ] ] }
};
cities.push(CPH)

var Odense = {
    "type": "Feature",
    "geometry": { "type": "Polygon", "coordinates": [ [ [ 10.266113758298657, 55.489561937288137 ], [ 10.263240310338649, 55.399726217919778 ], [ 10.421094028452266, 55.397993736064151 ], [ 10.424326261531556, 55.487823665129689 ] ] ] }
};
cities.push(Odense)

var Aarhus = {
    "type": "Feature",
    "geometry": { "type": "Polygon", "coordinates": [ [ [ 10.128521762025745, 56.209772025842533 ], [ 10.12589051720021, 56.119942393138707 ], [ 10.286689184865651, 56.118372079569085 ], [ 10.28969598395255, 56.208196411078681 ] ] ] }
};
cities.push(Aarhus)

var Aalborg = {
    "type": "Feature",
    "geometry": { "type": "Polygon", "coordinates": [ [ [ 9.825536237260369, 57.110600106683691 ], [ 9.823544537790514, 57.020775477932567 ], [ 9.988227929311813, 57.01958405040557 ], [ 9.99061776162147, 57.10940460184748 ] ] ] }
};
cities.push(Aalborg)


var myStyle = {
    "weight": 5,
    "opacity": 0.5,
    "fillOpacity": 0
};

function onEachFeature(feature, layer) {
        layer.on('click', function() {
            map.fitBounds(layer.getBounds())
        });

    }

var polygons = new L.geoJSON(cities,{
    style: myStyle,
    onEachFeature: onEachFeature
})

polygons.addTo(map)

</script>
</body>
</html>
